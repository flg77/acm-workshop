<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0" />
    <meta name="description" content="">


    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>RHACM Policies :: RHACM Workshop</title>

    
    <link href="/css/nucleus.css?1698349223" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1698349223" rel="stylesheet">
    <link href="/css/hybrid.css?1698349223" rel="stylesheet">
    <link href="/css/featherlight.min.css?1698349223" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1698349223" rel="stylesheet">
    <link href="/css/auto-complete.css?1698349223" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1698349223" rel="stylesheet">
    <link href="/css/theme.css?1698349223" rel="stylesheet">
    <link href="/css/tabs.css?1698349223" rel="stylesheet">
    <link href="/css/hugo-theme.css?1698349223" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1698349223"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/03_governance/01_rhacm_policies/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="http://rhacm-ws.nomiras.com/">
	  <img src="logo.png">
</a>


    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1698349223"></script>
<script type="text/javascript" src="/js/auto-complete.js?1698349223"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/rhacm-ws.nomiras.com\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1698349223"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/01_cluster_lifecycle/" title="Cluster Lifecycle" class="dd-item
        
        
        
        ">
      <a href="/01_cluster_lifecycle/">
          Cluster Lifecycle
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/01_cluster_lifecycle/03_hosted_control_plane/" title="Create Hosted Control Plane" class="dd-item
        
        
        
        ">
      <a href="/01_cluster_lifecycle/03_hosted_control_plane/">
          Create Hosted Control Plane
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/01_cluster_lifecycle/01_new_cluster/" title="Create a new cluster" class="dd-item
        
        
        
        ">
      <a href="/01_cluster_lifecycle/01_new_cluster/">
          Create a new cluster
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/01_cluster_lifecycle/02_new_sno/" title="New Single Node" class="dd-item
        
        
        
        ">
      <a href="/01_cluster_lifecycle/02_new_sno/">
          New Single Node
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/02_application_lifecycle/" title="Application Lifecycle" class="dd-item
        
        
        
        ">
      <a href="/02_application_lifecycle/">
          Application Lifecycle
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/02_application_lifecycle/01_create_app/" title="Create App - Application Lifecycle" class="dd-item
        
        
        
        ">
      <a href="/02_application_lifecycle/01_create_app/">
          Create App - Application Lifecycle
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/02_application_lifecycle/02_deploy_aap/" title="Deploy_aap2" class="dd-item
        
        
        
        ">
      <a href="/02_application_lifecycle/02_deploy_aap/">
          Deploy_aap2
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/02_application_lifecycle/03_deploy_snow_dev/" title="Deploy_servicenow_dev" class="dd-item
        
        
        
        ">
      <a href="/02_application_lifecycle/03_deploy_snow_dev/">
          Deploy_servicenow_dev
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/02_application_lifecycle/04_snow_change_request/" title="Trigger a ServiceNow Change Request via Ansible" class="dd-item
        
        
        
        ">
      <a href="/02_application_lifecycle/04_snow_change_request/">
          Trigger a ServiceNow Change Request via Ansible
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/02_application_lifecycle/05_create_aap_creds/" title="Create Ansible Automation Platform Credentials" class="dd-item
        
        
        
        ">
      <a href="/02_application_lifecycle/05_create_aap_creds/">
          Create Ansible Automation Platform Credentials
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/02_application_lifecycle/06_integrated_app_deployment/" title="Integrated Application Deployment [ACM/AAP2] " class="dd-item
        
        
        
        ">
      <a href="/02_application_lifecycle/06_integrated_app_deployment/">
          Integrated Application Deployment [ACM/AAP2] 
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/03_governance/" title="RHACM Governance" class="dd-item
        parent
        
        
        ">
      <a href="/03_governance/">
          RHACM Governance
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/03_governance/01_rhacm_policies/" title="RHACM Policies" class="dd-item
        
        active
        
        ">
      <a href="/03_governance/01_rhacm_policies/">
          RHACM Policies
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/04_observability/" title="Observability" class="dd-item
        
        
        
        ">
      <a href="/04_observability/">
          Observability
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/04_observability/02_grafana_integration/" title="Grafana_integration" class="dd-item
        
        
        
        ">
      <a href="/04_observability/02_grafana_integration/">
          Grafana_integration
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/04_observability/01_create_s3_bucket/" title="Create_s3_bucket" class="dd-item
        
        
        
        ">
      <a href="/04_observability/01_create_s3_bucket/">
          Create_s3_bucket
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/06_appendix/" title="Appendix" class="dd-item
        
        
        
        ">
      <a href="/06_appendix/">
          Appendix
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/06_appendix/01_import_kubernetes_cluster/" title="Import Kubernetes" class="dd-item
        
        
        
        ">
      <a href="/06_appendix/01_import_kubernetes_cluster/">
          Import Kubernetes
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>RHACM</a> > <a href='/03_governance/'>RHACM Governance</a> > RHACM Policies
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#security-and-compliance-use-case">(Security and compliance use case)</a>
      <ul>
        <li><a href="#creating-policies-in-acm">Creating Policies in ACM</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              RHACM Policies
            </h1>
          

        



	<h1 id="governance-risk-and-compliance">Governance, Risk, and Compliance</h1>
<h2 id="security-and-compliance-use-case">(Security and compliance use case)</h2>
<h3 id="creating-policies-in-acm">Creating Policies in ACM</h3>
<p>At this point, you have completed the overview labs for Cluster Lifecycle and Application
Lifecycle capabilities in RHACM. In the Cluster Lifecycle Lab, you learned how RHACM can
help manage the lifecycles of your Kubernetes clusters, including both deploying new clusters
and importing existing clusters. In that lab, you configured your RHACM instance to manage an
OpenShift® cluster.</p>
<p>In the Application Lifecycle Lab, you continued exploring RHACM functionality and learned how
to deploy and configure an application. You used the cluster that you added in the first module
as the target for deploying an application.</p>
<p>Now that you have a cluster and a deployed application, you need to make sure that they do not
drift from their original configurations. This kind of drift is a serious problem, because it can
happen from begining and benevolent fixes and changes, as well as malicious activities that you
38might not notice but can cause significant problems. The solution that RHACM provides for this
is the Governance, Risk, and Compliance, or GRC, functionality.
Review GRC Functionality</p>
<p>To begin, it is important to define exactly what GRC is. In RHACM, you build policies that are
applied to managed clusters. These policies can do different things, which are described below,
but they ultimately serve to govern the configurations of your clusters. This governance over
your cluster configurations reduces risk and ensures compliance with standards defined by
stakeholders, which can include security teams and operations teams
This table describes the three types of policy controllers available in RHACM along with the
remediation mode they support:</p>
<table>
<thead>
<tr>
<th>Policy Controller</th>
<th>Purpose</th>
<th>Enforce or Inform</th>
</tr>
</thead>
<tbody>
<tr>
<td>Configuration</td>
<td>Used to configure any Kubernetes resource across</td>
<td></td>
</tr>
<tr>
<td>your clusters. Where these resources are created or</td>
<td></td>
<td></td>
</tr>
<tr>
<td>configured is determined by the namespaces you</td>
<td></td>
<td></td>
</tr>
<tr>
<td>include (or exclude) in the policy.</td>
<td>Both</td>
<td></td>
</tr>
<tr>
<td>Certificate</td>
<td>Used to detect certificates that are close to expiring.</td>
<td></td>
</tr>
<tr>
<td>You can configure the certificate policy controller by</td>
<td></td>
<td></td>
</tr>
<tr>
<td>updating the minimum duration parameter in your</td>
<td></td>
<td></td>
</tr>
<tr>
<td>controller policy. When a certificate expires in less</td>
<td></td>
<td></td>
</tr>
<tr>
<td>than the minimum duration, the policy becomes</td>
<td></td>
<td></td>
</tr>
<tr>
<td>noncompliant. Certificates are identified from secrets</td>
<td></td>
<td></td>
</tr>
<tr>
<td>in the included namespaces.</td>
<td>Inform</td>
<td></td>
</tr>
<tr>
<td>Identity and Access</td>
<td>Management (IAM)The IAM policy controller monitors for the desired</td>
<td></td>
</tr>
<tr>
<td>maximum number of users with a particular cluster</td>
<td></td>
<td></td>
</tr>
<tr>
<td>role (i.e. ClusterRole) in your cluster.</td>
<td>Inform</td>
<td></td>
</tr>
<tr>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;-</td>
<td>&mdash;&mdash;&mdash;&mdash;&mdash;-</td>
</tr>
</tbody>
</table>
<p>You need to create three different resources in order to implement the policy controllers:</p>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>Policy</td>
<td>The Policy defines what you actually want to check and possibly configure (with</td>
</tr>
<tr>
<td>enforce). Policies include a policy-template which defines a list of</td>
<td></td>
</tr>
<tr>
<td>objectDefinitions. The policy also determines the namespaces it is applied to, as</td>
<td></td>
</tr>
<tr>
<td>well as the remediation actions it takes.</td>
<td></td>
</tr>
<tr>
<td>PlacementRule</td>
<td>Identifies a list of managed clusters that are targeted when using this</td>
</tr>
<tr>
<td>PlacementRule.</td>
<td></td>
</tr>
<tr>
<td>PlacementBinding</td>
<td>Connect the policy to the PlacementRule.</td>
</tr>
</tbody>
</table>
<p><img src="/202_27.png" alt="Git Hub Policy Sets"></p>
<p>You can see most of these components running in the hub cluster in the diagram below.
RHACM uses all of these to determine which managed clusters and namespaces the policies
are applied to.</p>
<p>Fortunately, the RHACM console provides an easy way to start creating basic policies, as
shown below. In this example, you can see that when you change values for elements in the
RHACM console, the YAML content is updated.</p>
<p><img src="/202_28.png" alt="Create Policy Sets"></p>
<p>This is a complex and emerging/evolving topic, and this course is only providing an overview.
Please consult the GRC product documentation for more details on any of these policy
controllers.
We’ll go through a simple example, and create a policy in the default namespace.
For this, we’ll need a little setup:
Navigate to Clusters and access the ClusterSets tab.</p>
<p><img src="/202_29.png" alt="Cluster Sets"></p>
<p>This is a complex and emerging/evolving topic, and this course is only providing an overview.
Please consult the GRC product documentation for more details on any of these policy
controllers.
We’ll go through a simple example, and create a policy in the default namespace.
For this, we’ll need a little setup:
Navigate to Clusters and access the ClusterSets tab.</p>
<p><img src="/202_30.png" alt="Cluster Sets"></p>
<p>Click on the 3-dots button on the right, and then on Edit namespaces bindings and add the
default namespace.</p>
<p><img src="/202_31.png" alt="Namespace Bindings"></p>
<p>Navigate to the Governance screen and click create policy.</p>
<p><img src="/202_32.png" alt="Governance"></p>
<p>Build a policy with the following information:</p>
<ul>
<li>Name: policy-grc-cert</li>
<li>Namespace: default</li>
</ul>
<p>Click <strong>NEXT</strong>.</p>
<ul>
<li>Policy Templates: Click on Add policy template and select Certificate Management expiration.</li>
</ul>
<p>Click <strong>NEXT</strong>.</p>
<p>On Placement, click on New placement.
Select global as the clusterSet.</p>
<p>Leave everything else as default and click NEXT.</p>
<p><img src="/202_33.png" alt="Create Policy Review"></p>
<p>As you can see in the Review page, this policy will be applied to every cluster in the global
ClusterSet, and it will look for expired certificates in them. If there’s a certificate that is set to
expire in less time than the minimumDuration specification, the policy will inform a not
compliant status.
Click SUBMIT.
Please note that initially it will complain that there is an issue with the policy but shortly after
should go green and get a checkmark.</p>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/03_governance/" title="RHACM Governance"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/04_observability/" title="Observability" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1698349223"></script>
    <script src="/js/perfect-scrollbar.min.js?1698349223"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1698349223"></script>
    <script src="/js/jquery.sticky.js?1698349223"></script>
    <script src="/js/featherlight.min.js?1698349223"></script>
    <script src="/js/highlight.pack.js?1698349223"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1698349223"></script>
    <script src="/js/learn.js?1698349223"></script>
    <script src="/js/hugo-learn.js?1698349223"></script>
    
        
            <script src="/mermaid/mermaid.js?1698349223"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
